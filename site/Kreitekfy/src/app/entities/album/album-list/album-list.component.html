<div class="container-fluid">
    <div class="row contenido">
        <div class="col-md-12">
            <h3>Lista de Albumes</h3>
            <button pButton pRipple type="button" [routerLink]="['/albums','new']" label="Crear nuevo álbum"
                class="p-button-danger"></button>
            <table class="table table-light table-hover table-striped " *ngIf="albums.length > 0">
                <thead>
                    <th>Nombre</th>
                    <th>Descripción</th>
                    <th>Acciones</th>
                </thead>
                <tbody>
                    <tr *ngFor="let album of albums">
                        <td class="align-middle">{{ album.name }}</td>
                        <td class="align-middle">{{ album.description }}</td>
                        <td class="align-middle">
                            <button pButton pRipple type="button" label="Eliminar" class="p-button-danger"
                                id="btnDeleteAlbum" data-bs-toggle="modal" data-bs-target="#askConfirmationDelete"
                                (click)="prepareAlbumToDelete(album.id!);"></button>
                            <button pButton pRipple type="button" label="Editar" class="p-button-danger"
                                id="btnDeleteAlbum" [routerLink]="['/albums',album.id]"></button>

                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="botoneraPaginacion">
                <button [disabled]="first" pButton pRipple type="button" label="Anterior" (click)="previousPage()"
                    class="p-button-danger">
                </button>
                <span>Pagina {{page + 1}} de {{totalPages}} - Elementos totales: {{totalElements}}</span>
                <button [disabled]="last" pButton pRipple type="button" label="Siguiente" class="p-button-danger"
                    (click)="nextPage()"></button>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="askConfirmationDelete" tabindex="-1" aria-labelledby="askConfirmationDelete"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Confirmación de borrado</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            ¿Desea eliminar el album seleccionado? Esta operación no puede deshacerse
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                                (click)="deleteAlbum();">Eliminar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>